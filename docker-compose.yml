version: '3.8'

services:
  lms-app:
    build:
      context: .
      dockerfile: Dockerfile
    container_name: art-class-management-lms
    ports:
      - "8096:8096"
    environment:
      - MONGODB_URI=${MONGODB_URI}
      - MONGODB_DATABASE=${MONGODB_DATABASE:-artacademy}
      - APPLICATION_SECURITY_JWT_SECRET_KEY=${APPLICATION_SECURITY_JWT_SECRET_KEY}
      - APPLICATION_SECURITY_JWT_EXPIRATION=${APPLICATION_SECURITY_JWT_EXPIRATION:-86400000}
      - SPRING_MAIL_HOST=${SPRING_MAIL_HOST:-smtp.gmail.com}
      - SPRING_MAIL_PORT=${SPRING_MAIL_PORT:-587}
      - SPRING_MAIL_USERNAME=${SPRING_MAIL_USERNAME}
      - SPRING_MAIL_PASSWORD=${SPRING_MAIL_PASSWORD}
    restart: unless-stopped
    networks:
      - artacademy-network

networks:
  artacademy-network:
    external: true
